<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alumni Cup - Admin Panel</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; padding: 2rem; }
    .container { max-width: 1000px; margin: 0 auto; background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    h1 { color: #bf5700; margin-bottom: 0.5rem; }
    .subtitle { color: #666; margin-bottom: 2rem; }
    .section { margin-bottom: 3rem; padding-bottom: 2rem; border-bottom: 2px solid #eee; }
    .section:last-child { border-bottom: none; }
    h2 { color: #00274c; margin-bottom: 1.5rem; font-size: 1.5rem; }
    h3 { color: #333; margin-top: 1.5rem; margin-bottom: 1rem; font-size: 1.2rem; }
    .form-group { margin-bottom: 1.5rem; }
    label { display: block; margin-bottom: 0.5rem; font-weight: bold; color: #333; }
    input[type="text"], input[type="number"], input[type="url"], textarea, select {
      width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem;
    }
    textarea { min-height: 150px; resize: vertical; font-family: monospace; }
    .photo-links { display: flex; flex-direction: column; gap: 0.5rem; }
    .photo-link-item { display: flex; gap: 0.5rem; align-items: center; }
    .photo-link-item input { flex: 1; }
    .photo-link-item button { background: #dc3545; padding: 0.5rem 1rem; font-size: 0.9rem; }
    .add-link-btn { background: #28a745; padding: 0.5rem 1rem; margin-top: 0.5rem; font-size: 0.9rem; }
    .photo-preview { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1rem; margin-top: 1rem; }
    .photo-item { position: relative; border-radius: 5px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .photo-item img { width: 100%; height: 150px; object-fit: cover; }
    button { background: #bf5700; color: white; padding: 1rem 2rem; border: none; border-radius: 5px; font-size: 1rem; cursor: pointer; font-weight: bold; transition: background 0.3s; }
    button:hover { background: #a04900; }
    .button-group { display: flex; gap: 1rem; margin-top: 1rem; flex-wrap: wrap; }
    .success-message { background: #4CAF50; color: white; padding: 1rem; border-radius: 5px; margin-top: 1rem; display: none; }
    .info-box { background: #e3f2fd; padding: 1rem; border-radius: 5px; margin-bottom: 1rem; border-left: 4px solid #2196F3; }
    .warning-box { background: #fff3cd; padding: 1rem; border-radius: 5px; margin-bottom: 1rem; border-left: 4px solid #ffc107; }
    .code-output { background: #f5f5f5; padding: 1rem; border-radius: 5px; font-family: monospace; font-size: 0.9rem; margin-top: 1rem; max-height: 400px; overflow-y: auto; border: 1px solid #ddd; white-space: pre-wrap; word-wrap: break-word; }
    .copy-button { background: #00274c; padding: 0.5rem 1rem; font-size: 0.9rem; }
    .example { background: #f8f9fa; padding: 0.5rem; border-radius: 3px; font-family: monospace; font-size: 0.85rem; margin-top: 0.5rem; }
    .subsection { background: #f9f9f9; padding: 1.5rem; border-radius: 8px; margin-top: 1rem; }
    table { border-collapse: collapse; }
    table th { font-weight: bold; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ† Alumni Cup Admin Panel</h1>
    <p class="subtitle">Manage photos, results, participants, and rules</p>

    <!-- Results Section -->
    <div class="section">
      <h2>ğŸ† 2025 Results & Participants</h2>
      
      <div class="subsection">
        <h3>Golf Results</h3>
        <div class="form-group">
          <label>UT Austin Score</label>
          <input type="number" id="utGolfScore" value="312">
        </div>
        <div class="form-group">
          <label>Michigan Score</label>
          <input type="number" id="umGolfScore" value="325">
        </div>
        
        <h4 style="margin-top: 1.5rem;">UT Austin Golf Participants</h4>
        <textarea id="utGolfCSV" placeholder="Paste CSV (Name, Score):
John Smith, 78
Jane Doe, 82" style="min-height: 80px;"></textarea>
        <button class="add-link-btn" onclick="parseCSV('utGolfCSV', 'utGolfTable')">Parse CSV</button>
        
        <table id="utGolfTable" style="width: 100%; margin-top: 1rem; background: white;">
          <thead>
            <tr style="background: #bf5700; color: white;">
              <th style="padding: 0.5rem; text-align: left;">Name</th>
              <th style="padding: 0.5rem; text-align: left;">Score</th>
              <th style="padding: 0.5rem; width: 80px;">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="padding: 0.5rem;"><input type="text" placeholder="Name" style="width: 100%; padding: 0.3rem;"></td>
              <td style="padding: 0.5rem;"><input type="number" placeholder="Score" style="width: 100%; padding: 0.3rem;"></td>
              <td style="padding: 0.5rem;"><button onclick="removeRow(this)" style="padding: 0.3rem; font-size: 0.85rem;">Ã—</button></td>
            </tr>
          </tbody>
        </table>
        
        <h4 style="margin-top: 1.5rem;">Michigan Golf Participants</h4>
        <textarea id="umGolfCSV" placeholder="Paste CSV (Name, Score)" style="min-height: 80px;"></textarea>
        <button class="add-link-btn" onclick="parseCSV('umGolfCSV', 'umGolfTable')">Parse CSV</button>
        
        <table id="umGolfTable" style="width: 100%; margin-top: 1rem; background: white;">
          <thead>
            <tr style="background: #00274c; color: white;">
              <th style="padding: 0.5rem; text-align: left;">Name</th>
              <th style="padding: 0.5rem; text-align: left;">Score</th>
              <th style="padding: 0.5rem; width: 80px;">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="padding: 0.5rem;"><input type="text" placeholder="Name" style="width: 100%; padding: 0.3rem;"></td>
              <td style="padding: 0.5rem;"><input type="number" placeholder="Score" style="width: 100%; padding: 0.3rem;"></td>
              <td style="padding: 0.5rem;"><button onclick="removeRow(this)" style="padding: 0.3rem; font-size: 0.85rem;">Ã—</button></td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div class="subsection">
        <h3>10K Run Results</h3>
        <div class="form-group">
          <label>UT Austin Avg Time</label>
          <input type="text" id="ut10kTime" value="49:15">
        </div>
        <div class="form-group">
          <label>Michigan Avg Time</label>
          <input type="text" id="um10kTime" value="48:23">
        </div>
        
        <h4 style="margin-top: 1.5rem;">UT Austin 10K Participants</h4>
        <textarea id="ut10kCSV" placeholder="Paste CSV (Name, Time)" style="min-height: 80px;"></textarea>
        <button class="add-link-btn" onclick="parseCSV('ut10kCSV', 'ut10kTable')">Parse CSV</button>
        
        <table id="ut10kTable" style="width: 100%; margin-top: 1rem; background: white;">
          <thead>
            <tr style="background: #bf5700; color: white;">
              <th style="padding: 0.5rem; text-align: left;">Name</th>
              <th style="padding: 0.5rem; text-align: left;">Time</th>
              <th style="padding: 0.5rem; width: 80px;">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="padding: 0.5rem;"><input type="text" placeholder="Name" style="width: 100%; padding: 0.3rem;"></td>
              <td style="padding: 0.5rem;"><input type="text" placeholder="48:23" style="width: 100%; padding: 0.3rem;"></td>
              <td style="padding: 0.5rem;"><button onclick="removeRow(this)" style="padding: 0.3rem; font-size: 0.85rem;">Ã—</button></td>
            </tr>
          </tbody>
        </table>
        
        <h4 style="margin-top: 1.5rem;">Michigan 10K Participants</h4>
        <textarea id="um10kCSV" placeholder="Paste CSV (Name, Time)" style="min-height: 80px;"></textarea>
        <button class="add-link-btn" onclick="parseCSV('um10kCSV', 'um10kTable')">Parse CSV</button>
        
        <table id="um10kTable" style="width: 100%; margin-top: 1rem; background: white;">
          <thead>
            <tr style="background: #00274c; color: white;">
              <th style="padding: 0.5rem; text-align: left;">Name</th>
              <th style="padding: 0.5rem; text-align: left;">Time</th>
              <th style="padding: 0.5rem; width: 80px;">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="padding: 0.5rem;"><input type="text" placeholder="Name" style="width: 100%; padding: 0.3rem;"></td>
              <td style="padding: 0.5rem;"><input type="text" placeholder="48:23" style="width: 100%; padding: 0.3rem;"></td>
              <td style="padding: 0.5rem;"><button onclick="removeRow(this)" style="padding: 0.3rem; font-size: 0.85rem;">Ã—</button></td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div class="subsection">
        <h3>Rules</h3>
        <div class="form-group">
          <label>Golf Rules (English)</label>
          <textarea id="golfRulesEn">- USGA Rules apply
- Modified Stableford scoring
- Maximum handicap: 36
- Best 5 scores count for team total</textarea>
        </div>
        <div class="form-group">
          <label>Golf Rules (Korean)</label>
          <textarea id="golfRulesKo">- USGA ê·œì¹™ ì ìš©
- ìˆ˜ì •ëœ ìŠ¤í…Œì´ë¸”í¬ë“œ ìŠ¤ì½”ì–´ë§
- ìµœëŒ€ í•¸ë””ìº¡: 36
- íŒ€ ì´ì ì€ ìƒìœ„ 5ëª…ì˜ ì ìˆ˜ë¡œ ê³„ì‚°</textarea>
        </div>
        <div class="form-group">
          <label>10K Rules (English)</label>
          <textarea id="runRulesEn">- Chip-timed race
- USATF certified course
- Top 3 finishers per team count
- Water stations every 2K</textarea>
        </div>
        <div class="form-group">
          <label>10K Rules (Korean)</label>
          <textarea id="runRulesKo">- ì¹© íƒ€ì´ë° ë ˆì´ìŠ¤
- USATF ì¸ì¦ ì½”ìŠ¤
- íŒ€ ì ìˆ˜ëŠ” ìƒìœ„ 3ëª…ìœ¼ë¡œ ê³„ì‚°
- 2Kë§ˆë‹¤ ê¸‰ìˆ˜ëŒ€ ì œê³µ</textarea>
        </div>
      </div>
      
      <div class="form-group">
        <label>Total Participants</label>
        <input type="number" id="totalParticipants" value="100">
      </div>
      
      <div class="button-group">
        <button onclick="generateResultsCode()">Generate Results Code</button>
        <button class="copy-button" onclick="copyCode('resultsOutput')">Copy Code</button>
      </div>
      
      <div class="code-output" id="resultsOutput" style="display: none;"></div>
      <div class="success-message" id="resultsSuccess">Code generated!</div>
    </div>
  </div>

  <script>
    function addRow(tableId, type) {
      const table = document.getElementById(tableId);
      const row = table.querySelector('tbody').insertRow();
      row.innerHTML = `
        <td style="padding: 0.5rem;"><input type="text" placeholder="Name" style="width: 100%; padding: 0.3rem;"></td>
        <td style="padding: 0.5rem;"><input type="${type}" placeholder="${type === 'number' ? 'Score' : '48:23'}" style="width: 100%; padding: 0.3rem;"></td>
        <td style="padding: 0.5rem;"><button onclick="removeRow(this)" style="padding: 0.3rem; font-size: 0.85rem;">Ã—</button></td>
      `;
    }
    
    function removeRow(btn) {
      const row = btn.closest('tr');
      if (row.parentElement.rows.length > 1) row.remove();
    }
    
    function parseCSV(textareaId, tableId) {
      const csv = document.getElementById(textareaId).value.trim();
      if (!csv) { alert('Paste CSV first!'); return; }
      
      const table = document.getElementById(tableId);
      const tbody = table.querySelector('tbody');
      tbody.innerHTML = '';
      
      const type = tableId.includes('Golf') ? 'number' : 'text';
      csv.split('\n').forEach(line => {
        const parts = line.split(',').map(p => p.trim());
        if (parts.length >= 2) {
          const row = tbody.insertRow();
          row.innerHTML = `
            <td style="padding: 0.5rem;"><input type="text" value="${parts[0]}" style="width: 100%; padding: 0.3rem;"></td>
            <td style="padding: 0.5rem;"><input type="${type}" value="${parts[1]}" style="width: 100%; padding: 0.3rem;"></td>
            <td style="padding: 0.5rem;"><button onclick="removeRow(this)" style="padding: 0.3rem; font-size: 0.85rem;">Ã—</button></td>
          `;
        }
      });
      document.getElementById(textareaId).value = '';
      alert('CSV parsed!');
    }
    
    function getTableData(tableId) {
      const rows = document.getElementById(tableId).querySelector('tbody').rows;
      const data = [];
      for (let row of rows) {
        const inputs = row.querySelectorAll('input');
        const name = inputs[0].value.trim();
        const score = inputs[1].value.trim();
        if (name && score) data.push({name, score});
      }
      return data;
    }
    
    function generateResultsCode() {
      const utGolf = document.getElementById('utGolfScore').value;
      const umGolf = document.getElementById('umGolfScore').value;
      const ut10k = document.getElementById('ut10kTime').value;
      const um10k = document.getElementById('um10kTime').value;
      const total = document.getElementById('totalParticipants').value;
      
      const utGolfData = getTableData('utGolfTable');
      const umGolfData = getTableData('umGolfTable');
      const ut10kData = getTableData('ut10kTable');
      const um10kData = getTableData('um10kTable');
      
      const golfRulesEn = document.getElementById('golfRulesEn').value;
      const golfRulesKo = document.getElementById('golfRulesKo').value;
      const runRulesEn = document.getElementById('runRulesEn').value;
      const runRulesKo = document.getElementById('runRulesKo').value;
      
      const golfWinnerUT = parseInt(utGolf) < parseInt(umGolf);
      const runWinnerUM = um10k < ut10k;
      
      let code = `<!-- Results Section -->
<section id="results">
  <h2 class="lang-en">2025 Results</h2>
  <h2 class="lang-ko">2025 ê²°ê³¼</h2>
  
  <div class="results-box">
    <h3 class="lang-en">â›³ Golf</h3>
    <h3 class="lang-ko">â›³ ê³¨í”„</h3>
    <div class="result-row">
      <span class="school lang-en">${golfWinnerUT ? 'ğŸ† ' : ''}UT Austin</span>
      <span class="school lang-ko">${golfWinnerUT ? 'ğŸ† ' : ''}í…ì‚¬ìŠ¤ëŒ€</span>
      <span class="score">${utGolf}</span>
    </div>
    <div class="result-row">
      <span class="school lang-en">${!golfWinnerUT ? 'ğŸ† ' : ''}Michigan</span>
      <span class="school lang-ko">${!golfWinnerUT ? 'ğŸ† ' : ''}ë¯¸ì‹œê°„ëŒ€</span>
      <span class="score">${umGolf}</span>
    </div>
  </div>
  
  <div class="results-box">
    <h3 class="lang-en">ğŸƒ 10K Run</h3>
    <h3 class="lang-ko">ğŸƒ 10K ë§ˆë¼í†¤</h3>
    <div class="result-row">
      <span class="school lang-en">${runWinnerUM ? 'ğŸ† ' : ''}Michigan</span>
      <span class="school lang-ko">${runWinnerUM ? 'ğŸ† ' : ''}ë¯¸ì‹œê°„ëŒ€</span>
      <span class="score">${um10k}</span>
    </div>
    <div class="result-row">
      <span class="school lang-en">${!runWinnerUM ? 'ğŸ† ' : ''}UT Austin</span>
      <span class="school lang-ko">${!runWinnerUM ? 'ğŸ† ' : ''}í…ì‚¬ìŠ¤ëŒ€</span>
      <span class="score">${ut10k}</span>
    </div>
  </div>
  
  <details style="margin-top: 2rem; background: #f9f9f9; padding: 1.5rem; border-radius: 10px;">
    <summary style="cursor: pointer; font-size: 1.2rem; font-weight: bold; color: #bf5700;">
      <span class="lang-en">ğŸ“Š Detailed Results</span>
      <span class="lang-ko">ğŸ“Š ìƒì„¸ ê²°ê³¼</span>
    </summary>
    <div style="margin-top: 1.5rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
      <div style="background: white; padding: 1rem; border-radius: 8px;">
        <h5 style="color: #bf5700;">UT Austin Golf</h5>
        <table style="width: 100%;">
          <thead><tr><th style="text-align: left;">Name</th><th style="text-align: right;">Score</th></tr></thead>
          <tbody>`;
      
      utGolfData.forEach(p => {
        code += `<tr><td>${p.name}</td><td style="text-align: right;">${p.score}</td></tr>`;
      });
      
      code += `</tbody></table>
      </div>
      <div style="background: white; padding: 1rem; border-radius: 8px;">
        <h5 style="color: #00274c;">Michigan Golf</h5>
        <table style="width: 100%;">
          <thead><tr><th style="text-align: left;">Name</th><th style="text-align: right;">Score</th></tr></thead>
          <tbody>`;
      
      umGolfData.forEach(p => {
        code += `<tr><td>${p.name}</td><td style="text-align: right;">${p.score}</td></tr>`;
      });
      
      code += `</tbody></table>
      </div>
      <div style="background: white; padding: 1rem; border-radius: 8px;">
        <h5 style="color: #bf5700;">UT Austin 10K</h5>
        <table style="width: 100%;">
          <thead><tr><th style="text-align: left;">Name</th><th style="text-align: right;">Time</th></tr></thead>
          <tbody>`;
      
      ut10kData.forEach(p => {
        code += `<tr><td>${p.name}</td><td style="text-align: right;">${p.score}</td></tr>`;
      });
      
      code += `</tbody></table>
      </div>
      <div style="background: white; padding: 1rem; border-radius: 8px;">
        <h5 style="color: #00274c;">Michigan 10K</h5>
        <table style="width: 100%;">
          <thead><tr><th style="text-align: left;">Name</th><th style="text-align: right;">Time</th></tr></thead>
          <tbody>`;
      
      um10kData.forEach(p => {
        code += `<tr><td>${p.name}</td><td style="text-align: right;">${p.score}</td></tr>`;
      });
      
      code += `</tbody></table>
      </div>
    </div>
  </details>
  
  <details style="margin-top: 1rem; background: #f9f9f9; padding: 1.5rem; border-radius: 10px;">
    <summary style="cursor: pointer; font-size: 1.2rem; font-weight: bold; color: #bf5700;">
      <span class="lang-en">ğŸ“‹ Rules</span>
      <span class="lang-ko">ğŸ“‹ ê·œì¹™</span>
    </summary>
    <div style="margin-top: 1rem;">
      <h4 class="lang-en">â›³ Golf Rules</h4>
      <h4 class="lang-ko">â›³ ê³¨í”„ ê·œì¹™</h4>
      <div class="lang-en" style="background: white; padding: 1rem; margin: 0.5rem 0; white-space: pre-line;">${golfRulesEn}</div>
      <div class="lang-ko" style="background: white; padding: 1rem; margin: 0.5rem 0; white-space: pre-line;">${golfRulesKo}</div>
      <h4 class="lang-en" style="margin-top: 1rem;">ğŸƒ 10K Rules</h4>
      <h4 class="lang-ko" style="margin-top: 1rem;">ğŸƒ 10K ê·œì¹™</h4>
      <div class="lang-en" style="background: white; padding: 1rem; margin: 0.5rem 0; white-space: pre-line;">${runRulesEn}</div>
      <div class="lang-ko" style="background: white; padding: 1rem; margin: 0.5rem 0; white-space: pre-line;">${runRulesKo}</div>
    </div>
  </details>
  
  <p class="lang-en" style="text-align: center; margin-top: 2rem; font-style: italic;">
    Over ${total} alumni participated.
  </p>
  <p class="lang-ko" style="text-align: center; margin-top: 2rem; font-style: italic;">
    ${total}ëª… ì´ìƒì˜ ë™ë¬¸ì´ ì°¸ê°€í–ˆìŠµë‹ˆë‹¤.
  </p>
</section>`;
      
      document.getElementById('resultsOutput').textContent = code;
      document.getElementById('resultsOutput').style.display = 'block';
      document.getElementById('resultsSuccess').style.display = 'block';
      setTimeout(() => { document.getElementById('resultsSuccess').style.display = 'none'; }, 3000);
    }
    
    function copyCode(id) {
      const code = document.getElementById(id).textContent;
      navigator.clipboard.writeText(code).then(() => {
        alert('âœ… Copied!');
      });
    }
  </script>
</body>
</html>
